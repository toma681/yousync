{"version":3,"sources":["components/Header/Header.js","components/Footer/Footer.js","components/Home/Home.js","components/RoomHeader/RoomHeader.js","components/ConditionalYoutubeRender/ConditionalYoutubeRender.js","components/Room/Room.js","components/Roomselect/Roomselect.js","components/App.js","index.js"],"names":["history","useHistory","className","Grid","container","alignItems","justify","item","onClick","push","props","style","marginTop","direction","classes","makeStyles","theme","button","margin","spacing","borderRadius","backgroundColor","useStyles","Button","size","newRoom","randStr","generate","variant","color","videoLoaded","ytOPS","opts","storeYT","onReady","stateChange","onStateChange","videoId","socketRef","useRef","roomName","useParams","myColorRef","myUsername","youtubeRef","useState","setCurTime","youtubeURL","setURL","isVideoLoaded","setIsVideoLoaded","youtubeTitle","setYoutubeTitle","currentMessage","setCurrentMessage","messageList","setMessageList","playerRef","config","dictionaries","adjectives","colors","animals","separator","useEffect","checkSeek","current","getRandomColor","uniqueNamesGenerator","io","emit","userName","on","msg","scrollDiv","document","querySelector","scrollTop","scrollHeight","playVideo","pauseVideo","isLoaded","loaded","setTimeout","loadVideoById","videoID","getYoutubeTitle","err","title","name","time","id","int","setInterval","clearInterval","seekToTime","seekTo","check","getCurrentTime","prevTime","Math","abs","close","createMuiTheme","breakpoints","values","xs","sm","md","lg","xl","ThemeProvider","onSubmit","e","preventDefault","urlInput","match","data","substring","TextField","autoComplete","onChange","target","value","placeholder","inputProps","height","width","event","map","index","key","roomList","setRoomList","rooms","socket","App","path","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"sqBAKe,G,OAAA,WACb,IAAMA,EAAUC,cAKhB,OACE,yBAAKC,UAAU,mBACb,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,WAAW,SAASC,QAAQ,UAC1C,kBAACH,EAAA,EAAD,CAAMI,MAAI,GACR,wBAAIL,UAAU,SAASM,QAR/B,WACER,EAAQS,KAAK,OAOP,uBCXK,G,OAAA,SAACC,GACd,OACE,yBAAKR,UAAU,kBAAkBS,MAAO,CAACC,UAAWF,EAAME,YACxD,kBAACT,EAAA,EAAD,CAAMU,UAAU,SAAST,WAAS,EAACC,WAAW,SAASC,QAAQ,UAE7D,kBAACH,EAAA,EAAD,CAAMI,MAAI,GACR,wBAAIL,UAAU,aAAaS,MAAO,IAAlC,6BAGF,kBAACR,EAAA,EAAD,CAAMI,MAAI,GACR,uBAAGL,UAAU,sBAAb,mB,kBCLK,G,OAAA,WACb,IAAMF,EAAUC,cAWhB,IAOMa,EAPYC,aAAW,SAAAC,GAAK,MAAK,CACvCC,OAAQ,CACNC,OAAQF,EAAMG,QAAQ,IACtBC,aAAc,MACdC,gBAAiB,cAGHC,GAEhB,OACE,yBAAKpB,UAAU,aACb,kBAAC,EAAD,MACA,kBAACC,EAAA,EAAD,CAAMD,UAAU,gBAAgBE,WAAS,EAACS,UAAU,SAASR,WAAW,SAASC,QAAQ,UACvF,kBAACH,EAAA,EAAD,CAAMI,MAAI,GACR,wBAAIL,UAAU,WAAd,oCAEF,kBAACC,EAAA,EAAD,CAAMI,MAAI,GACR,kBAACgB,EAAA,EAAD,CAAQrB,UAAS,UAAMY,EAAQG,OAAd,kBAAuCO,KAAK,QAAQhB,QA1B7E,WACE,IAAIiB,EAAUC,IAAQC,SAAS,IAC/B3B,EAAQS,KAAR,iBAAuBgB,KAwBgFG,QAAQ,OAAOC,MAAM,WACpH,+CAGJ,kBAAC1B,EAAA,EAAD,CAAMI,MAAI,GACR,qCAEF,kBAACJ,EAAA,EAAD,CAAMI,MAAI,GACR,kBAACgB,EAAA,EAAD,CAAQrB,UAAS,UAAMY,EAAQG,OAAd,kBAAuCO,KAAK,QAAQhB,QA7B7E,WACER,EAAQS,KAAK,WA4BwFmB,QAAQ,OAAOC,MAAM,WAClH,iDAIN,kBAAC,EAAD,CAAQjB,UAAU,a,QC9CT,G,OAAA,WACb,IAAMZ,EAAUC,cAKhB,OACE,yBAAKC,UAAU,uBACb,kBAACC,EAAA,EAAD,CAAMC,WAAS,GAEb,kBAACD,EAAA,EAAD,CAAMI,MAAI,GACR,wBAAIL,UAAU,aAAaM,QATnC,WACER,EAAQS,KAAK,OAQP,uB,oCCZK,G,OAAA,SAACC,GACd,GAAIA,EAAMoB,YAAa,CACrB,IAAIC,EAAQrB,EAAMsB,KACdC,EAAUvB,EAAMwB,QAChBC,EAAczB,EAAM0B,cACxB,OAAQ,kBAAC,IAAD,CAASlC,UAAU,gBAAgB8B,KAAMD,EAAOM,QAAQ,GAAGH,QAASD,EAASG,cAAeD,IAGpG,OACE,yBAAKjC,UAAU,oBACb,wBAAIA,UAAU,mBAAd,wB,4DCKO,G,OAAA,SAACQ,GACd,IAAM4B,EAAYC,mBACZC,EAAaC,cAAbD,SACFE,EAAaH,mBACbI,EAAaJ,mBACbK,EAAaL,mBALO,EAMKM,mBAAS,GANd,mBAMTC,GANS,aAOGD,mBAAS,IAPZ,mBAOnBE,EAPmB,KAOPC,EAPO,OAQgBH,oBAAS,GARzB,mBAQnBI,EARmB,KAQJC,EARI,OAScL,mBAAS,mBATvB,mBASnBM,EATmB,KASLC,EATK,OAUkBP,mBAAS,IAV3B,mBAUnBQ,EAVmB,KAUHC,EAVG,OAWYT,mBAAS,IAXrB,mBAWnBU,EAXmB,KAWNC,EAXM,KAYpBC,EAAYlB,mBAEVmB,EAAS,CACbC,aAAc,CAACC,IAAYC,IAAQC,KACnCnD,MAAO,UACPoD,UAAW,IAGbC,qBAAU,WAsER,IAAIC,EArEJvB,EAAWwB,QAAUC,MACrBxB,EAAWuB,QAAUE,YAAqBV,GAC1CD,EAAUS,SAAU,EAEpB5B,EAAU4B,QAAUG,IAAG,4CACvB/B,EAAU4B,QAAQI,KAAK,WAAY9B,GACnCF,EAAU4B,QAAQI,KAAK,kBAAmB9B,GAE1CF,EAAU4B,QAAQI,KAAK,gBAAiB9B,GACxCF,EAAU4B,QAAQI,KAAK,eAAgB3B,EAAWuB,SAClD5B,EAAU4B,QAAQI,KAAK,cAAe,CACpCjB,eAAe,GAAD,OAAKV,EAAWuB,QAAhB,wBACd1B,WACAX,MAAO,KACP0C,SAAU,OAEZjC,EAAU4B,QAAQM,GAAG,kBAAkB,SAACC,GACtCjB,EAAeiB,GACf,IAAIC,EAAYC,SAASC,cAAc,cACvCF,EAAUG,UAAYH,EAAUI,gBAGlCxC,EAAU4B,QAAQM,GAAG,eAAe,WAClC5B,EAAWsB,QAAQa,eAGrBzC,EAAU4B,QAAQM,GAAG,gBAAgB,WACnC5B,EAAWsB,QAAQc,gBAGrB1C,EAAU4B,QAAQM,GAAG,iBAAiB,SAACS,GACjCA,EAASC,SACXzB,EAAUS,SAAU,EACpBhB,GAAiB,GACjBiC,YAAW,WACTvC,EAAWsB,QAAQkB,cAAcH,EAASI,SAC1CC,IAAgBL,EAASI,SAAS,SAACE,EAAKC,GACtCpC,EAAgBoC,MAElBlD,EAAU4B,QAAQI,KAAK,WAAY,CAAEmB,KAAMjD,EAAUkD,KAAM,MAC1D,SAIPpD,EAAU4B,QAAQM,GAAG,sBAAsB,SAACmB,GAC1C,GAAKlC,EAAUS,QAabtB,EAAWsB,QAAQkB,cAAcO,GACjCL,IAAgBK,GAAI,SAACJ,EAAKC,GACxBpC,EAAgBoC,UAfI,CACtBtC,GAAiB,GAEjB,IAAM0C,EAAMC,aAAY,WAClBpC,EAAUS,UACZtB,EAAWsB,QAAQkB,cAAcO,GACjCL,IAAgBK,GAAI,SAACJ,EAAKC,GACxBpC,EAAgBoC,MAElBM,cAAcF,MAEf,SASPtD,EAAU4B,QAAQM,GAAG,eAAe,SAACuB,GACnCnD,EAAWsB,QAAQ8B,OAAOD,MAI5B,IAAIE,EAAQJ,aAAY,WAClBpC,EAAUS,UACZ4B,cAAcG,GACdd,YAAW,WACTlB,EAAY4B,aAAY,WACtB,IAAIH,EAAO9C,EAAWsB,QAAQgC,iBAC9BpD,GAAW,SAACqD,GAKV,OAHIC,KAAKC,IAAIX,EAAOS,GAAY,IAC9B7D,EAAU4B,QAAQI,KAAK,WAAY,CAAEmB,KAAMjD,EAAUkD,SAEhDA,OAER,OACF,QAEJ,KAEH,OAAO,WACLI,cAAc7B,GACd3B,EAAU4B,QAAQoC,WAEnB,CAAC9D,IAqDJ,IAAMxB,EAAQuF,YAAe,CAC3BC,YAAa,CACXC,OAAQ,CACNC,GAAI,EACJC,GAAI,IACJC,GAAI,KACJC,GAAI,KACJC,GAAI,QAKV,OACE,yBAAK5G,UAAU,iBACb,kBAAC,EAAD,MACA,kBAAC6G,EAAA,EAAD,CAAe/F,MAAOA,GACpB,kBAACb,EAAA,EAAD,CAAMC,WAAS,EAACS,UAAU,OACxB,kBAACV,EAAA,EAAD,CAAMI,MAAI,EAACmG,GAAI,IACb,0BAAMM,SA/ChB,SAAyBC,GACvBA,EAAEC,iBACF,IAAIC,EAAWpE,EACfC,EAAO,IAEP,IAAI2C,EAAKwB,EAASC,MAAM,WACxB,GAAIzB,EAAI,CACN,IAAI0B,EAAO,CAAE7E,WAAUmD,GAAIA,EAAG,GAAG2B,UAAU,IAC3ChF,EAAU4B,QAAQI,KAAK,kBAAmB+C,MAwClC,kBAACE,EAAA,EAAD,CACE/F,KAAK,QACLgG,aAAa,MACbC,SA1Bd,SAAyBR,GACvBjE,EAAOiE,EAAES,OAAOC,QA0BJA,MAAO5E,EACP6E,YAAY,yBACZjC,GAAG,iBACHzF,UAAU,gBACV0B,QAAQ,WACRiG,WAAY,CAAElH,MAAO,CAAEkB,MAAO,cAKpC,kBAAC1B,EAAA,EAAD,CAAMI,MAAI,EAACmG,GAAI,IACb,wBAAIxG,UAAU,cAAd,IAA6BiD,EAA7B,MAGF,kBAAChD,EAAA,EAAD,CAAMI,MAAI,EAACoG,GAAI,GACb,kBAAC,EAAD,CACE3E,KAhDE,CACZ8F,OAAQ,MACRC,MAAO,QA+CGjG,YAAamB,EACbf,QA3EZ,SAAiB8F,GACfvE,EAAUS,SAAU,EACpBtB,EAAWsB,QAAU8D,EAAMN,QA0EjBtF,cA3DZ,SAAqB4F,GACA,IAAfA,EAAMX,KACR/E,EAAU4B,QAAQI,KAAK,WAAY9B,GACX,IAAfwF,EAAMX,MACf/E,EAAU4B,QAAQI,KAAK,YAAa9B,OA2DhC,kBAACrC,EAAA,EAAD,CAAMI,MAAI,EAACoG,GAAI,EAAGC,GAAI,GACpB,yBAAK1G,UAAU,mBACb,yBAAKA,UAAU,aACb,4BACGqD,EAAY0E,KAAI,SAAC1H,EAAM2H,GACtB,OAAO3H,EAAKgE,SACV,wBAAIrE,UAAU,cAAciI,IAAKD,GAC9B,IACD,0BAAMvH,MAAO,CAAEkB,MAAOtB,EAAKsB,QACxB,IACAtB,EAAKgE,SAFR,IAEmB,KACX,IACR,0BAAM5D,MAAO,CAAEkB,MAAO,UACnB,IACAtB,EAAK8C,eAAgB,KAChB,KAGV,wBAAInD,UAAU,+BAA+BiI,IAAKD,GAC/C,IACA3H,EAAK8C,eAAgB,UAMhC,0BAAM2D,SA3HlB,SAA2BC,GACzBA,EAAEC,iBACqB,KAAnB7D,IACFf,EAAU4B,QAAQI,KAAK,cAAe,CACpCjB,iBACAb,WACAX,MAAOa,EAAWwB,QAClBK,SAAU5B,EAAWuB,UAEvBZ,EAAkB,OAmHR,kBAACiE,EAAA,EAAD,CACErH,UAAU,mBACVsB,KAAK,QACLgG,aAAa,MACbC,SAnHhB,SAAqBR,GACnB3D,EAAkB2D,EAAES,OAAOC,QAmHbA,MAAOtE,EACPuE,YAAY,gBACZjC,GAAG,iBACH/D,QAAQ,WACRiG,WAAY,CAAElH,MAAO,CAAEkB,MAAO,iBAO1C,kBAAC,EAAD,CAAQjB,UAAU,aC1QT,G,OAAA,SAACF,GACd,IAAM4B,EAAYC,mBAEZvC,EAAUC,cAHQ,EAIM4C,mBAAS,IAJf,mBAInBuF,EAJmB,KAITC,EAJS,KAuBxB,OAjBArE,qBAAU,WAQR,OAPA1B,EAAU4B,QAAUG,IAAG,4CAEvB/B,EAAU4B,QAAQI,KAAK,eACvBhC,EAAU4B,QAAQM,GAAG,mBAAmB,SAAA8D,GACtCD,EAAYC,MAGP,WACLhG,EAAU4B,QAAQoC,WAEnB,MAfCiC,IAsBF,6BACE,kBAAC,EAAD,MACA,kBAACpI,EAAA,EAAD,CAAMC,WAAS,EAACF,UAAU,uBACxB,kBAACC,EAAA,EAAD,CAAMI,MAAI,EAACmG,GAAI,IAAf,IAAoB,wBAAIxG,UAAU,iBAAd,yBAAwD,kBAACqB,EAAA,EAAD,CAAQf,QAR1F,WACE8B,EAAU4B,QAAQI,KAAK,gBAO0F1C,QAAQ,YAAYC,MAAM,WAA3D,cAA5E,KACCuG,EAASH,KAAI,SAAC1H,EAAMoF,GACnB,OACE,kBAACxF,EAAA,EAAD,CAAMI,MAAI,EAACmG,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGuB,IAAKxC,GACrC,yBAAKzF,UAAU,qBAAqBM,QAAS,kBAAMR,EAAQS,KAAR,iBAAuBF,EAAKkF,SAC7E,wBAAIvF,UAAU,gBAAd,oBAAwCyF,EAAK,GAA7C,WAKV,kBAAC,EAAD,CAAQ/E,UAAU,c,OCpBT4H,MAdf,WACE,OACE,yBAAKtI,UAAU,OACb,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOuI,KAAK,IAAIC,OAAK,GAArB,IAAuB,kBAAC,EAAD,MAAvB,KACA,kBAAC,IAAD,CAAOD,KAAK,mBAAmBC,OAAK,GAApC,IAAsC,kBAAC,EAAD,MAAtC,KACA,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAK,GAA1B,IAA6B,kBAAC,EAAD,MAA7B,SCdVC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFlE,SAASmE,eAAe,W","file":"static/js/main.db0207fe.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Grid } from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\nimport \"./Header.css\";\r\n\r\nexport default () => {\r\n  const history = useHistory();\r\n  function navHome() {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"headerContainer\">\r\n      <Grid container alignItems=\"center\" justify=\"center\">\r\n        <Grid item >\r\n          <h1 className=\"header\" onClick={navHome}> Youtube Sync </h1>\r\n        </ Grid>\r\n      </ Grid>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport {Grid} from '@material-ui/core';\r\nimport \"./Footer.css\"\r\n\r\nexport default (props) => {\r\n  return (\r\n    <div className=\"footerContainer\" style={{marginTop: props.marginTop}}>\r\n      <Grid direction=\"column\" container alignItems=\"center\" justify=\"center\" >\r\n\r\n        <Grid item >\r\n          <h1 className=\"footerText\" style={{}}> Â© Youtube Sync 2020 </h1>\r\n        </ Grid>\r\n\r\n        <Grid item >\r\n          <p className=\"footerP footerText\"> Andrew T </p>\r\n        </ Grid>\r\n\r\n      </ Grid>\r\n    </div>\r\n  );\r\n}\r\n","import {useHistory} from 'react-router-dom';\r\nimport randStr from \"randomstring\";\r\nimport React from \"react\";\r\nimport Header from \"../Header/Header.js\";\r\nimport Footer from \"../Footer/Footer.js\";\r\nimport {Grid, Button} from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport \"./Home.css\";\r\n\r\nexport default () => {\r\n  const history = useHistory();\r\n\r\n  function makeNewRoomRandom() {\r\n    let newRoom = randStr.generate(10);\r\n    history.push(`/rooms/${newRoom}`);\r\n  }\r\n\r\n  function navToSelectRoom() {\r\n    history.push(\"/rooms\");\r\n  }\r\n\r\n  const useStyles = makeStyles(theme => ({\r\n  button: {\r\n    margin: theme.spacing(10),\r\n    borderRadius: \"3em\",\r\n    backgroundColor: \"#0C0C0C\"\r\n  }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Header />\r\n      <Grid className=\"homeContainer\" container direction=\"column\" alignItems=\"center\" justify=\"center\">\r\n        <Grid item>\r\n          <h1 className=\"topItem\"> Watch YouTube Videos together </h1>\r\n        </ Grid>\r\n        <Grid item>\r\n          <Button className={ `${classes.button} createRoomBtn` } size=\"large\" onClick={makeNewRoomRandom} variant=\"text\" color=\"default\">\r\n            <h1> Create Room </h1>\r\n          </Button>\r\n        </ Grid>\r\n        <Grid item>\r\n          <h1> OR </h1>\r\n        </ Grid>\r\n        <Grid item>\r\n          <Button className={ `${classes.button} createRoomBtn` } size=\"large\" onClick={navToSelectRoom} variant=\"text\" color=\"default\">\r\n            <h1> Browse Rooms </h1>\r\n          </Button>\r\n        </ Grid>\r\n      </ Grid>\r\n      <Footer marginTop=\"300px\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {Grid} from '@material-ui/core';\r\nimport {useHistory} from 'react-router-dom';\r\nimport \"./RoomHeader.css\";\r\n\r\nexport default () => {\r\n  const history = useHistory();\r\n  function navHome() {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"roomHeaderContainer\">\r\n      <Grid container>\r\n\r\n        <Grid item >\r\n          <h1 className=\"roomHeader\" onClick={navHome}> Youtube Sync </h1>\r\n        </ Grid>\r\n\r\n      </ Grid>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Youtube from \"react-youtube\";\r\nimport \"./ConditionalYoutubeRender.css\";\r\n\r\nexport default (props) => {\r\n  if (props.videoLoaded) {\r\n    let ytOPS = props.opts;\r\n    let storeYT = props.onReady;\r\n    let stateChange = props.onStateChange;\r\n    return (<Youtube className=\"youtubePlayer\" opts={ytOPS} videoId=\"\" onReady={storeYT} onStateChange={stateChange}/>)\r\n    \r\n  } else {\r\n    return (\r\n      <div className=\"noVideoLoadedDiv\">\r\n        <h1 className=\"noVideoLoadedH1\"> NO VIDEO LOADED </h1>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport RoomHeader from \"../RoomHeader/RoomHeader.js\";\r\nimport { Grid, TextField } from \"@material-ui/core\";\r\nimport { ThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport ConditionalYoutube from \"../ConditionalYoutubeRender/ConditionalYoutubeRender.js\";\r\nimport Footer from \"../Footer/Footer.js\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  uniqueNamesGenerator,\r\n  Config,\r\n  adjectives,\r\n  colors,\r\n  animals,\r\n} from \"unique-names-generator\";\r\nimport getYoutubeTitle from \"get-youtube-title\";\r\nimport getRandomColor from \"randomcolor\";\r\nimport io from \"socket.io-client\";\r\nimport \"./Room.css\";\r\n\r\nexport default (props) => {\r\n  const socketRef = useRef();\r\n  let { roomName } = useParams();\r\n  let myColorRef = useRef();\r\n  let myUsername = useRef();\r\n  let youtubeRef = useRef();\r\n  let [curTimes, setCurTime] = useState(0);\r\n  let [youtubeURL, setURL] = useState(\"\");\r\n  let [isVideoLoaded, setIsVideoLoaded] = useState(false);\r\n  let [youtubeTitle, setYoutubeTitle] = useState(\"No Video Loaded\");\r\n  let [currentMessage, setCurrentMessage] = useState(\"\");\r\n  let [messageList, setMessageList] = useState([]);\r\n  let playerRef = useRef();\r\n\r\n  const config = {\r\n    dictionaries: [adjectives, colors, animals],\r\n    style: \"capital\",\r\n    separator: \"\",\r\n  };\r\n\r\n  useEffect(() => {\r\n    myColorRef.current = getRandomColor();\r\n    myUsername.current = uniqueNamesGenerator(config);\r\n    playerRef.current = false;\r\n\r\n    socketRef.current = io(\"https://youtubesyncbackend.herokuapp.com\");\r\n    socketRef.current.emit(\"roomName\", roomName);\r\n    socketRef.current.emit(\"getPrevMessages\", roomName);\r\n\r\n    socketRef.current.emit(\"checkIfLoaded\", roomName);\r\n    socketRef.current.emit(\"sendUserName\", myUsername.current);\r\n    socketRef.current.emit(\"sendMessage\", {\r\n      currentMessage: `${myUsername.current} has joined the room`,\r\n      roomName,\r\n      color: null,\r\n      userName: null,\r\n    });\r\n    socketRef.current.on(\"receiveMessage\", (msg) => {\r\n      setMessageList(msg);\r\n      let scrollDiv = document.querySelector(\".scrollDiv\");\r\n      scrollDiv.scrollTop = scrollDiv.scrollHeight;\r\n    });\r\n\r\n    socketRef.current.on(\"receivePlay\", () => {\r\n      youtubeRef.current.playVideo();\r\n    });\r\n\r\n    socketRef.current.on(\"receivePause\", () => {\r\n      youtubeRef.current.pauseVideo();\r\n    });\r\n\r\n    socketRef.current.on(\"receiveLoaded\", (isLoaded) => {\r\n      if (isLoaded.loaded) {\r\n        playerRef.current = true;\r\n        setIsVideoLoaded(true);\r\n        setTimeout(() => {\r\n          youtubeRef.current.loadVideoById(isLoaded.videoID);\r\n          getYoutubeTitle(isLoaded.videoID, (err, title) => {\r\n            setYoutubeTitle(title);\r\n          });\r\n          socketRef.current.emit(\"sendSeek\", { name: roomName, time: 0 });\r\n        }, 1000);\r\n      }\r\n    });\r\n\r\n    socketRef.current.on(\"receiveVideoSwitch\", (id) => {\r\n      if (!playerRef.current) {\r\n        setIsVideoLoaded(true);\r\n\r\n        const int = setInterval(() => {\r\n          if (playerRef.current) {\r\n            youtubeRef.current.loadVideoById(id);\r\n            getYoutubeTitle(id, (err, title) => {\r\n              setYoutubeTitle(title);\r\n            });\r\n            clearInterval(int);\r\n          }\r\n        }, 100);\r\n      } else {\r\n        youtubeRef.current.loadVideoById(id);\r\n        getYoutubeTitle(id, (err, title) => {\r\n          setYoutubeTitle(title);\r\n        });\r\n      }\r\n    });\r\n\r\n    socketRef.current.on(\"receiveSeek\", (seekToTime) => {\r\n      youtubeRef.current.seekTo(seekToTime);\r\n    });\r\n\r\n    let checkSeek;\r\n    let check = setInterval(() => {\r\n      if (playerRef.current) {\r\n        clearInterval(check);\r\n        setTimeout(() => {\r\n          checkSeek = setInterval(() => {\r\n            let time = youtubeRef.current.getCurrentTime();\r\n            setCurTime((prevTime) => {\r\n              // Assume seek is always > 1/2 of a second\r\n              if (Math.abs(time - prevTime) > 0.5) {\r\n                socketRef.current.emit(\"sendSeek\", { name: roomName, time });\r\n              }\r\n              return time;\r\n            });\r\n          }, 100);\r\n        }, 1000);\r\n      }\r\n    }, 100);\r\n\r\n    return () => {\r\n      clearInterval(checkSeek);\r\n      socketRef.current.close();\r\n    };\r\n  }, [roomName]);\r\n\r\n  function handleSendMessage(e) {\r\n    e.preventDefault();\r\n    if (currentMessage !== \"\") {\r\n      socketRef.current.emit(\"sendMessage\", {\r\n        currentMessage,\r\n        roomName,\r\n        color: myColorRef.current,\r\n        userName: myUsername.current,\r\n      });\r\n      setCurrentMessage(\"\");\r\n    }\r\n  }\r\n\r\n  function editMessage(e) {\r\n    setCurrentMessage(e.target.value);\r\n  }\r\n\r\n  function storeYT(event) {\r\n    playerRef.current = true;\r\n    youtubeRef.current = event.target;\r\n  }\r\n\r\n  function makeVideoSwitch(e) {\r\n    e.preventDefault();\r\n    let urlInput = youtubeURL;\r\n    setURL(\"\");\r\n    // let id = urlInput.match(/(?<=v=).{11}/); Safari does not Support this\r\n    let id = urlInput.match(/v=.{11}/);\r\n    if (id) {\r\n      let data = { roomName, id: id[0].substring(2) };\r\n      socketRef.current.emit(\"sendVideoSwitch\", data);\r\n    }\r\n  }\r\n\r\n  function stateChange(event) {\r\n    if (event.data === 1) {\r\n      socketRef.current.emit(\"sendPlay\", roomName);\r\n    } else if (event.data === 2) {\r\n      socketRef.current.emit(\"sendPause\", roomName);\r\n    }\r\n  }\r\n\r\n  const ytOPS = {\r\n    height: \"620\",\r\n    width: \"1000\",\r\n  };\r\n\r\n  function handleURLChange(e) {\r\n    setURL(e.target.value);\r\n  }\r\n\r\n  const theme = createMuiTheme({\r\n    breakpoints: {\r\n      values: {\r\n        xs: 0,\r\n        sm: 600,\r\n        md: 1587,\r\n        lg: 1920,\r\n        xl: 4000,\r\n      },\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"roomContainer\">\r\n      <RoomHeader />\r\n      <ThemeProvider theme={theme}>\r\n        <Grid container direction=\"row\">\r\n          <Grid item xs={12}>\r\n            <form onSubmit={makeVideoSwitch}>\r\n              <TextField\r\n                size=\"small\"\r\n                autoComplete=\"off\"\r\n                onChange={handleURLChange}\r\n                value={youtubeURL}\r\n                placeholder=\"Enter Youtube URL Here\"\r\n                id=\"outlined-basic\"\r\n                className=\"inputVideoURL\"\r\n                variant=\"outlined\"\r\n                inputProps={{ style: { color: \"white\" } }}\r\n              />\r\n            </form>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            <h1 className=\"videoTitle\"> {youtubeTitle} </h1>\r\n          </Grid>\r\n\r\n          <Grid item sm={8}>\r\n            <ConditionalYoutube\r\n              opts={ytOPS}\r\n              videoLoaded={isVideoLoaded}\r\n              onReady={storeYT}\r\n              onStateChange={stateChange}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item sm={8} md={3}>\r\n            <div className=\"messageOuterDiv\">\r\n              <div className=\"scrollDiv\">\r\n                <ul>\r\n                  {messageList.map((item, index) => {\r\n                    return item.userName ? (\r\n                      <li className=\"messageItem\" key={index}>\r\n                        {\" \"}\r\n                        <span style={{ color: item.color }}>\r\n                          {\" \"}\r\n                          {item.userName}:{\" \"}\r\n                        </span>{\" \"}\r\n                        <span style={{ color: \"white\" }}>\r\n                          {\" \"}\r\n                          {item.currentMessage}{\" \"}\r\n                        </span>{\" \"}\r\n                      </li>\r\n                    ) : (\r\n                      <li className=\"messageItem joinLeaveMessage\" key={index}>\r\n                        {\" \"}\r\n                        {item.currentMessage}{\" \"}\r\n                      </li>\r\n                    );\r\n                  })}\r\n                </ul>\r\n              </div>\r\n              <form onSubmit={handleSendMessage}>\r\n                <TextField\r\n                  className=\"sendMessageField\"\r\n                  size=\"small\"\r\n                  autoComplete=\"off\"\r\n                  onChange={editMessage}\r\n                  value={currentMessage}\r\n                  placeholder=\"Enter Message\"\r\n                  id=\"outlined-basic\"\r\n                  variant=\"outlined\"\r\n                  inputProps={{ style: { color: \"white\" } }}\r\n                />\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </ThemeProvider>\r\n      <Footer marginTop=\"600px\" />\r\n    </div>\r\n  );\r\n};\r\n","import React, {useState, useEffect, useRef} from 'react';\r\nimport Header from \"../Header/Header.js\";\r\nimport Footer from \"../Footer/Footer.js\";\r\nimport {Grid, Button} from '@material-ui/core';\r\nimport {useHistory} from 'react-router-dom';\r\nimport io from \"socket.io-client\";\r\nimport \"./Roomselect.css\";\r\n\r\nexport default (props) => {\r\n  const socketRef = useRef();\r\n  let socket;\r\n  const history = useHistory();\r\n  let [roomList, setRoomList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io(\"https://youtubesyncbackend.herokuapp.com\");\r\n\r\n    socketRef.current.emit(\"getRoomList\");\r\n    socketRef.current.on(\"receiveRoomList\", rooms => {\r\n      setRoomList(rooms);\r\n    });\r\n\r\n    return () => {\r\n      socketRef.current.close();\r\n    }\r\n  }, [socket]);\r\n\r\n  function handleRefresh() {\r\n    socketRef.current.emit(\"getRoomList\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Grid container className=\"roomSelectContainer\">\r\n        <Grid item xs={12}> <h1 className=\"browseRoomsH1\"> Browse Rooms &nbsp;&nbsp;<Button onClick={ handleRefresh }variant=\"contained\" color=\"default\"> Refresh </Button></h1> </Grid>\r\n        {roomList.map((item, id) => {\r\n          return (\r\n            <Grid item xs={12} sm={12} md={4} key={id}>\r\n              <div className=\"roomChoiceOuterDiv\" onClick={() => history.push(`/rooms/${item.name}`)}>\r\n                <h1 className=\"roomNumberH1\"> {`Room #${id + 1}`} </h1>\r\n              </div>\r\n            </Grid>)\r\n        })}\r\n      </Grid>\r\n      <Footer marginTop=\"1000px\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport Home from \"./Home/Home.js\";\nimport Room from \"./Room/Room.js\";\nimport Roomselect from \"./Roomselect/Roomselect.js\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/\" exact> <Home/> </Route>\n          <Route path=\"/rooms/:roomName\" exact> <Room/> </Route>\n          <Route path=\"/rooms\" exact > <Roomselect/> </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}